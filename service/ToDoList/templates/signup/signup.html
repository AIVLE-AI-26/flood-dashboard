{% extends 'main/navbar.html' %}

{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/signup.css' %}">
<title>회원가입</title>
{% endblock %}

{% block content %}
<canvas class="background-canvas"></canvas>
<div class="form-container-signup">
    <h2>회원가입</h2>
    <div class="signup-container">
        <form method="POST" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="signup-group">
                <label class="signup-label" for="username">아이디</label>
                <input name="username" type="text" class="custom-input" placeholder="아이디 규칙" required>

            </div>
            <div class="signup-group">
                <label for="password1">비밀번호</label>
                <input name="password1" type="password" class="custom-input" placeholder="비밀번호 규칙" required>

            </div>
            <div class="signup-group">
                <label for="password2">비밀번호 확인</label>
                <input name="password2" type="password" class="custom-input" placeholder="비밀번호 확인" required>

            </div>
            <div class="signup-group">
                <label for="email">이메일</label>
                <input name="email" type="email" class="custom-input" placeholder="이메일 입력" required>

            </div>
            <div class="signup-btn-container">
                <button type="submit" class="btn btn-primary login-btn">회원가입</button>
            </div>
        </form>
    </div>
</div>
<script>
    <script>
        (function () {
          'use strict'
          var forms = document.querySelectorAll('.needs-validation')
          Array.prototype.slice.call(forms)
            .forEach(function (form) {
              form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                  event.preventDefault()
                  event.stopPropagation()
                }
                form.classList.add('was-validated')
              }, false)
            })
        })()
      </script>
      <script>
        const canvas = document.querySelector('.background-canvas');
        const context = canvas.getContext('2d');
        const drops = [];
      
        function resizeCanvas() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        }
      
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
      
        class Drop {
          constructor(index, x, y, speed, length) {
            this.index = index;
            this.x = x;
            this.y = y;
            this.speed = speed;
            this.length = length;
            this.draw();
          }
      
          draw() {
            context.beginPath();
            context.strokeStyle = '#FFFFFF'; // Updated color to blue for visibility
            context.moveTo(this.x, this.y);
            context.lineTo(this.x, this.y + this.length);
            context.stroke();
            context.closePath();
          }
        }
      
        function render() {
          context.clearRect(0, 0, canvas.width, canvas.height);
      
          drops.forEach((drop) => {
            drop.y += drop.speed;
            if (drop.y > canvas.height) {
              drop.y = 0;
              drop.x = Math.random() * canvas.width;
              drop.speed = Math.random() * 3 + 1;
              drop.length = Math.random() * 5 + 2;
            }
      
            drop.draw();
          });
      
          requestAnimationFrame(render); // 반복
        }
      
        // Increase the number of drops to 500
        for (let i = 0; i < 500; i++) {
          const tempX = Math.random() * canvas.width;
          const tempY = Math.random() * canvas.height;
          const tempSpeed = Math.random() * 3 + 1;
          const tempLength = Math.random() * 5 + 2;
      
          drops.push(new Drop(i, tempX, tempY, tempSpeed, tempLength));
        }
        render();
      </script>
</script>

{% endblock %}